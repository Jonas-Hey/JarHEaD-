{{#ifexpr: {{#pageExists: <http://www.fluidops.com/Event>}} |
<!-- Event page exists, so show that one (in its context) -->
{{#widget: TabWidget | 
 includes = {{ 
      {{ pageUri = '<http://www.fluidops.com/Event>'
       | valueUri = '<http://www.fluidops.com/Event>'
      }} }}
}}
| 
<!-- Otherwise fallback to simple table -->
= Event List =

{{#widget: TableResult | 
 columnConfiguration = {{ 
      {{ variableName = 'Timestamp'
       | valueResolver = 'DATETIME'
      }} }}
 | query = 'SELECT ?Event ?Resource ?Classification ?Category ?Timestamp WHERE { 
	{ ?Event a System:Event }
	{ ?Event <http://www.fluidops.com/Event/category> ?Category }
	optional { ?Event <http://www.fluidops.com/Event/eventSource> ?Resource }
	{ ?Event <http://www.fluidops.com/Event/classification> ?Classification }
	{ ?Event dc:date ?Timestamp }  }'
}}

}} <!-- end if page exists -->