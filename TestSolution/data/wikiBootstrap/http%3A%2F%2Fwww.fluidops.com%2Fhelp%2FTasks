== Recurring Tasks ==

Recurring tasks are configurable programs that run in a defined schedule. {{PRODUCT}} provides some default tasks for common use-cases, like the execution of scripts. It is also possible to extend this with custom tasks.

<h3>Adding and Removing Tasks</h3>
Tasks can be configured using the [[Admin:Tasks | Recurring Tasks UI]], which is also linked from the admin area. To add a new task, simply click on the 'Add Task' button beneath the Tasks table. A [[Help:ConfigurationForm|configuration form pop-up]] like the following window will open asking you to choose a task type and enter the setup information.

All tasks comprise general setup information that is summarized in the table below (fields marked with * are required).

{| class="sortable wikitable" 
|-
! Parameter
! Description
|-
| Task*
| Choose the task type you want to add from the drop-down box
|-
| Identifier*
| Source name (URI) of the task
|-
| Enabled
| Whether or not the task is enabled. If disabled, the task will not run
|-
| Schedule*
| Specifies the poll interval in minutes in which the task is run or a cron expression defining the schedule. For details about cron expressions please refer to the [http://www.quartz-scheduler.org/documentation/quartz-2.1.x/tutorials/crontrigger.html crontrigger] documentation. In order to schedule a provider run every day at 3am, 9am, 3pm and 9pm, the following cron expression can be used: 0 0 3,9,15,21 * * ? *
|}

Depending on the type additional fields might be required. For more details on this see below. Please note that you can instantiate an arbitrary number of tasks, so it is possible to have multiple instances of the same task type.

Tasks can be edited/removed just as easily:
* By clicking on the edit button at the right hand side of a task row, one can edit the configuration parameters in
a popup window similar to the one for adding a task. Please note that, once created, using the edit form you cannot change the type or the ID of the task anymore (if you want to do so, you need to delete the task first and create a new one instead).
* Using the delete button at the right hand side of of a task row you can easily remove the task. As a response, a popup will appear, asking you to confirm deletion.

<h2> Types of Tasks </h2>

There are two kinds of tasks which differ in the way they are run:

<h3> Scheduled Tasks </h3>

Scheduled tasks are run on a fixed schedule defined by the schedule parameter (i.e. every 10 minutes or every day at 1pm). Scheduled tasks do not have a notion of a context, which means they are run with a fixed set of parameters.

<h3> Triggered Tasks </h3>

Triggered tasks are scheduled or triggered by an external entity. This can be achieved in two ways.

# using a [[Help:TriggerTask| trigger task]]
# using a [[Help:TaskPostProcessor| task post processor]] in a data provider

In order to make any task triggerable, the schedule needs to be set to ''external''.

Compared to regular scheduled tasks, triggered tasks are run with a context. Consequently, a task can retrieve configuration parameters from the context using [[Help:AdvancedWidgetConfiguration|Dynamic Operators]] such as ''$''this.foaf:mbox<i>$</i>. These operators are evaluated before each task execution, allowing the tasks to be configured and parameterized right from the central database. See [[Help:Reporting]] for a use case example.



<h2>Available Task Types</h3>

Different types of tasks are shipped by default with {{PRODUCT}}. For every task type there is a separate help section describing the scope and detailed configuration details.

See [[Help:TOC#Help:Tasks_Recurring_Tasks| here]] for a listing of the tasks.