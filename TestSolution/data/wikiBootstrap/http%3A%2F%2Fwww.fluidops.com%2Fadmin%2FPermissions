__NOTOC__

= Access & Permission Management =

Below the access permissions for users and groups can be managed. For general user management see [[Admin:UserManagement| here]].

== Resource Role Mapping ==

Assign roles to users for a specific resource.

{{#widget: com.fluidops.iwb.user.widget.ResourceRoleMappingWidget }}

== User / Group Role Mapping ==

Select a user/group for assigning roles to a resource.

{{#widget: com.fluidops.iwb.user.widget.UserRoleMappingWidget }}

== Reload Permissions & Roles ==
{{#widget: com.fluidops.iwb.widget.CodeExecutionWidget 
| label = 'Reload'
| clazz = 'com.fluidops.iwb.user.RoleMappingUtil'
| method = 'reloadAndInvalidateACLs'
}}

== Tracing User Roles & Permissions ==

To trace the current user's applied roles, you can point the user to [[System:UserRoles]], where both the explicit as well as expanded roles are listed. 

Note: for contextual tracing this page can be included into other pages using the snippet '<nowiki>{{System:UserRoles}}</nowiki>'

In addition {{PRODUCT}} provides a debugging tool for tracing the user's permissions (e.g. the ones required for accessing and viewing a page). The tool is based on a logger and writes the information to ''logs/permissions.log'' when the ''permissions'' logger is configured on level DEBUG. The latter can be done via the ''log4j.properties'' or at runtime using the following controls:

<div style="float:left">
{{#widget: CodeExecution | 
 method = 'enableAclTrace'
 | passContext = false
 | label = 'Enable'
 | clazz = 'com.fluidops.iwb.user.AclTrace'
}}
</div>
<div style="float:left">
{{#widget: CodeExecution | 
 method = 'disableAclTrace'
 | passContext = false
 | label = 'Disable'
 | clazz = 'com.fluidops.iwb.user.AclTrace'
}}
</div>
<div style="float:left">
{{#widget: CodeExecution | 
 method = 'isEnabledAclTrace'
 | passContext = false
 | label = 'Is enabled?'
 | clazz = 'com.fluidops.iwb.user.AclTrace'
}}
</div>
<div style="clear:both"><br/></div>

Note: the tracing tool should only be activated temporarily to avoid heavy logging.

The registered and active context mappers are listed on [[Admin:ContextMappers]].

== Role Mapping Overview ==

The following table provides an overview of all declared role mappings:

{{#widget: com.fluidops.iwb.user.widget.RoleMappingOverviewWidget}}

== Existing Roles ==

{{#widget: TableResult | 
 query = 'Java:com.fluidops.iwb.user.RolesLookupImpl#existingRoles'
 | numberOfDisplayedRows = 3
 | columnConfiguration = {{ 
      {{ variableName = 'role'
       | displayName = 'Role ID'
      }} | 
      {{ variableName = 'display'
       | displayName = 'Name'
      }} | 
      {{ variableName = 'description'
       | displayName = 'Description'
      }} | 
      {{ variableName = 'isHidden'
       | visibility = 'HIDDEN'
      }} | 
      {{ variableName = 'includeRole'
       | visibility = 'HIDDEN'
      }} | 
      {{ variableName = 'includedByRole'
       | visibility = 'HIDDEN'
      }} }}
}}