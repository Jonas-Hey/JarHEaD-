=== Report Provider ===

==== Functionality ====

Creates reports in several output formats based on SPARQL query results.

{{#widget: com.fluidops.iwb.widget.DisplayConfigurationWidget
| clazz = com.fluidops.iwb.provider.ReportProvider
| type = 'DESCRIPTION'
}}
Go back to [[Help:Providers | Providers ]]

==== Configuration Settings ====
{{#widget: com.fluidops.iwb.widget.DisplayConfigurationWidget
| clazz = com.fluidops.iwb.provider.ReportProvider
}}

The output format of the report can be optionally specified and selected from the offered supported formats. If not specified explicitly, the ''ReportProvider'' exports data as CSV.

The name of the output file is created based on the specified parameters and may include a timestamp with the specified format. If the timestamp format is not specified,
a default format containing year, month, day, hour, minute and second is used. See [http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html here] for a description of available formats.

Alternatively it may include an continuously increasing counter value. 
If parameter ''maxFiles'' is set, the number of files is limited to the specified amount of files and after reaching the maximum value
the current counter number automatically roles over to 1.

When using append mode, the exported data is appended to the file specified in the configuration. As long as the file name evaluates (e.g. over time) to the same file, data is appended to it.
As an example, when specifying the timestamp format as ''yyyyMMdd'' and creating a report every hour, the data of a full day will be written to the same file. Please note that the full export
as written by the selected output format is written to the file, i.e. it always contains a full header and/or footer. When using SPARQL/XML output, this will lead to invalid XML, but can still
be read using any tool by manually wrapping the full output in a common root element (i.e. adding ''<report>'' at the beginning of a file and ''</report>'' at the end).

When setting the provider config option ''createRDFMetaData'' to true, the provider will create RDF metadata for the output file. The export folder as specified with the global config property ''exportFolder'' needs to be a sub-folder of the upload folder (config property ''cms.uploadFolder'') in this case. The generated report can be downloaded from the [[Admin:Upload|File Management]] page.


==== Example ====

Consider as an example that you want to create a report of all known Persons with their birth date and phone number.

This can be achieved by configuring a ''ReportProvider'' on [[Admin:Providers]] with a query similar to this one ''<nowiki>SELECT ?firstName ?lastName ?birthday ?phone WHERE { ?person a foaf:Person . ?person ?foaf:firstName ?firstName . ?person foaf:lastName ?lastName . ?person foaf:phone ?phone . ?person foaf:birthday ?birthday} </nowiki>''

This will create a report, e.g. of type CSV with the columns 'firstName', 'lastName', 'birthday' and 'phone'. The report is written to the named file and can optionally be tagged with the creation timestamp.
