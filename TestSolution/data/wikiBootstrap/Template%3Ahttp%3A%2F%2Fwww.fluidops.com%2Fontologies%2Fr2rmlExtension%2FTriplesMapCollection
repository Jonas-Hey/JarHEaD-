__NOTOC__

[[Admin:Admin|Settings]] > [[Admin:DataSources|Data Sources]] > {{#show: {{this}} | <http://www.fluidops.com/ontologies/r2rmlExtension/dataSource> }} > Mapping Collection <sup>[[Help:R2RMLMappings#Mapping_Collection_Overview |<img width="12" src="../images/navigation/help_start.png" />]]</sup><br/><br/>


<div class="r2rmleditor triplesMapInitializer">
<b>Create a new mapping rule:</b>
{{#widget: CodeExecution | 
 passContext = true
 | args = {{ $this$ | '%label' }}
 | userInput = {{ 
      {{ name = 'label'
       | required = false
       | displayName = 'Mapping Name'
       | componentType = 'SIMPLE'
      }} }}
 | method = 'initializeEmptyTriplesMap'
 | label = 'Create Mapping'
 | clazz = 'com.fluidops.iwb.r2rml.utils.R2RMLExecution'
 | render = 'inline'
}}
</div>

== Existing Mapping Rules ==
{{#widget: ActionableResult | 
 query = 'SELECT ?TriplesMap ?isExternal WHERE {
   { 
     ?? <http://www.fluidops.com/ontologies/r2rmlExtension/containsTriplesMap> ?TriplesMap
     BIND (false AS ?isExternal )
   }
   UNION
   { 
     ?? <http://www.fluidops.com/ontologies/r2rmlExtension/externalTriplesMap> ?TriplesMap 
     BIND (true AS ?isExternal )
   }
   ?TriplesMap a <http://www.w3.org/ns/r2rml#TriplesMap> .
}'
 | rowActions = {{ 
      {{ clazz = 'com.fluidops.iwb.r2rml.utils.R2RMLExecution'
       | method = 'renameTriplesMap'
       | hideAction = '?:isExternal'
       | passContext = true
       | render = 'img:/images/ui/ico_rename.png'
       | label = 'Rename'
       | args = {{ '?:TriplesMap' | '%newName' }}
       | userInput = {{ 
            {{ name = 'newName'
             | componentType = 'SIMPLE'
             | displayName = 'New Name'
            }} }}
      }} | 
      {{ clazz = 'com.fluidops.iwb.r2rml.utils.R2RMLExecution'
       | method = 'copyTriplesMap'
       | hideAction = '?:isExternal'
       | passContext = true
       | render = 'img:/ajax/icons/add.png'
       | label = 'Copy'
       | args = {{ '?:TriplesMap' | '%newName' }}
       | userInput = {{ 
            {{ name = 'newName'
             | componentType = 'SIMPLE'
             | displayName = 'New Name'
            }} }}
      }} | 
      {{ clazz = 'com.fluidops.iwb.r2rml.utils.R2RMLExecution'
       | method = 'deleteTriplesMap'
       | hideAction = '?:isExternal'
       | passContext = false
       | render = 'img:/ajax/icons/delete.png'
       | label = 'Delete'
       | args = {{ '?:TriplesMap' | $this$ }}
       | onFinish = 'reload'
       | confirm = 'Are you sure you want to remove this mapping rule?'
      }} }}
 | columnConfiguration = {{ 
      {{ variableName = 'TriplesMap'
       | displayName = 'Mapping Rule'
      }} | 
      {{ variableName = 'isExternal'
       | tooltip = 'Whether this mapping is external (i.e. shared). Shared mappings are not managed by a triples map collection.'
       | displayName = 'External'
      }} }}
}}
<div style="margin-top:25px;">
{{#widget: com.fluidops.iwb.r2rml.widget.R2RMLImportExportWidget 
 | triplesMapCollectionURI = $this$
}}
</div>

{{#ifexpr: {{#sparql: ASK { ?? <http://www.fluidops.com/ontologies/r2rmlExtension/sourceSchema> ?db . ?db <http://www.fluidops.com/ontologies/RelationalSchemaOntology/schema> ?schema. } }} 
 | == Available Tables to Map==
{{#widget: ActionableResult | 
 columnConfiguration = {{ 
      {{ valueResolver = 'LABEL'
       | variableName = 'Table'
      }} }}
 | query = 'SELECT DISTINCT ?Table (COUNT(?c) AS ?numberOfColumns) WHERE {
   ?? <http://www.fluidops.com/ontologies/r2rmlExtension/sourceSchema> ?db .
   ?db <http://www.fluidops.com/ontologies/RelationalSchemaOntology/schema> ?schema.
   ?schema <http://www.fluidops.com/ontologies/RelationalSchemaOntology/schemaTable> ?Table .
   ?Table a <http://www.fluidops.com/ontologies/RelationalSchemaOntology/Table>;
      <http://www.fluidops.com/ontologies/RelationalSchemaOntology/tableType> ?type;
      <http://www.fluidops.com/ontologies/RelationalSchemaOntology/tableColumn> ?c .
} GROUP BY ?Table ?type'
 | numberOfDisplayedRows = 10
 | rowActions = {{ 
      {{ passContext = true
       | userInput = {{ 
            {{ name = 'label'
             | displayName = 'Mapping name'
             | componentType = 'SIMPLE'
            }} }}
       | args = {{ $this$ | '%label' | '?:Table' }}
       | label = 'Create mapping for table'
       | method = 'initializeTriplesMapFromTableUri'
       | clazz = 'com.fluidops.iwb.r2rml.utils.R2RMLExecution'
       | render = 'img:/ajax/icons/add.png'
      }} }}
}}
 | == Available Tables to Map== 
Metadata extraction was skipped for this datasource. This means that the logical table has to be constructed manually by providing an SQL query. To create the metadata, uncheck the skip metadata option and save the datasource again.
}}


<!-- include empty template for extensions -->
{{Template:http://www.fluidops.com/ontologies/r2rmlExtension/IncTriplesMapCollectionExtensionPage}}