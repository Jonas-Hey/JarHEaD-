= Repository Management<sup>[[Help:RepositoryManagement | <img width="19" src="../images/navigation/help_start.png" />]]</sup> =
<br/>
{{#widget: com.fluidops.iwb.widget.admin.RepositoryConfigWidget}}

== Default Repository Configuration ==

Use this dialog to change the default repository. The repositoryType specifies the type of repository. Please see [[Help:RepositoryConfiguration]] and your repository app documentation for more details. The value
usually is class=MyFactory. The other settings specify the repository address, username and password (if applicable). 

{{#widget: com.fluidops.iwb.widget.admin.InlineConfigurationWidget | 
 configOptions = {{ 'repositoryType' | 'repositoryServer' | 'endpoint' | 'repositoryUser' | 'repositoryPassword' }}
 | fields = {{   'PROPERTY_NAME' | 'INPUT_FIELD' }}
}}

== History Repository Configuration ==

Use this dialog to change the history repository. 

{{#widget: com.fluidops.iwb.widget.admin.InlineConfigurationWidget | 
 configOptions = {{ 'historyRepositoryType' | 'historyRepositoryServer' | 'historyRepositoryUser' | 'historyRepositoryPassword' }}
 | fields = {{   'PROPERTY_NAME' | 'INPUT_FIELD' }}
}}

== Repository Operations ==

In certain scenarios it is required to clean up (or rebuild) the physical repository (e.g., due to an issue described [https://openrdf.atlassian.net/browse/SES-512 here]). The following action invokes the repository tool for a cleanup of NativeStore based repositories (i.e. the default repository type). 

'''Important:''' When triggering this action, the repository will be set into maintenance mode and all consequent read and write operations to the repository will fail. This means that for the duration of the cleanup (typically a few minutes, depending on the actual repository size) users will be facing a 503 error page, and moreover scheduled tasks (such as providers) will fail. Once the cleanup is completed the system automatically recovers and the repository becomes accessible.

{{#widget: CodeExecution | 
 confirm = 'Are you sure you want to cleanup the repository? Note: the UI will become inaccessible and read/write access to the repository (e.g. providers) will fail for a few minutes'
 | method = 'cleanupNativeStoreCallable'
 | passContext = true
 | label = 'Cleanup Repository'
 | onFinish = 'reload'
 | clazz = 'com.fluidops.iwb.api.RepositoryServiceImpl'
}}