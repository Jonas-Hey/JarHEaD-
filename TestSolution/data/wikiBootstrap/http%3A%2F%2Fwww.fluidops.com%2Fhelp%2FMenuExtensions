== Menu extensions ==

{{PRODUCT}} supports the customization of the menu items as well as extension points for providing links (e.g. on [[Admin:Admin]]). For this an app can provide some additional metadata as defined below.


=== Main menu extensions ===

The main menu is computed based on RDF data stored in the ''config'' repository. In addition, the menu is personalized for a user (e.g. with regard to the user's access permissions).

A custom menu can be defined by providing the required RDF metadata as part of the app. For this an RDF dump file (which defines the data) needs to be placed in the ''wikiBootstrap'' folder of the app (e.g., ''data/wikiBootstrapMyFeature/MyFeatureMenu.ttl''). 

The following example illustrates the RDF structure.

<source>
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix fluidops: <http://www.fluidops.com/> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix Platform: <http://www.fluidops.com/ontologies/platform/> .
@prefix menu: <http://www.fluidops.com/ontologies/menu/> .


# category My Feature

menu:MyFeature rdf:type Platform:MenuCategory ;
	rdfs:label "My Feature",
				"Mein Feature"@de ;
	rdfs:comment "Menu extension for my feature" ,
				"Menü Erweiterung für mein Feature"@de ;
	Platform:order 50 .
	

fluidops:MyFeaturePageOverview rdf:type Platform:WikiPage ;
	rdfs:label "Overview",
				"Übersicht"@de ;
	Platform:hasParent menu:MyFeature;
	rdfs:comment "Overview of my feature" ,
				"Übersicht über mein Feature"@de ;
	Platform:order 10 .

fluidops:MyFeaturePageDetails rdf:type Platform:WikiPage ;
	rdfs:label "Details",
				"Details"@de ;
	Platform:hasParent menu:MyFeature;
	rdfs:comment "Details about my feature" ,
				"Details zu meinem Feature"@de ;
	Platform:order 20 .
</source>

Note that there is one menu category which has two sub items. The sub items are linked to the category with the ''Platform:hasParent'' relationship. The menu is designed such that the menu items link to the resource represented by the subject of the menu item statement.

The next example illustrates a case, when there are no sub items, i.e. the menu item directly links to a page.

<source>
fluidops:MyFeatureStart rdf:type Platform:MenuCategory ;
	rdf:type Platform:WikiPage ;
	rdfs:label "My Feature Start" ;
	rdfs:comment "Start Page for my Feature" ;
	Platform:requiredProduct "eCloudManager" ;
	Platform:requiredFeature "IWBSERVERADMINUSER" ;
	Platform:order 60  .
</source>

This example also shows how license requirements can be used to control the visibility of menu items. If ''Platform:requiredProduct'' or ''Platform:requiredFeature'' are used in the menu definition, the respective product or feature must be licensed for the menu item to become visible. Note that it is enough if one of the listed features or products is licensed; i.e. if in the example only ''IWBSERVERADMINUSER'' is licensed, but not ''eCloudManager'', then the menu item is visible. Further information on licensing can be found [[ Help:Installation#License_Management| here]].


=== Extensions to Admin:Admin ===

By means of providing RDF metadata in the ''config'' repository an app can provide additional links to the [[Admin:Admin]] page. It is possible to either link into an existing category or to create a new category (as illustrated in the following examples). The RDF metadata can be provided in the ''wikiBootstrap'' folder of the app (e.g., ''data/wikiBootstrapMyFeature/MyAdditionalAdminLinks.ttl'').

==== Example for a new category: ====

The following snippet creates a new category ''My New Category'' and adds a single link to ''My Admin Page'' using the ''Platform:hasParent'' relationship.

<source>
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix Platform: <http://www.fluidops.com/ontologies/platform/> .
@prefix Admin-Category: <http://www.fluidops.com/ontologies/category/> .
@prefix Admin: <http://www.fluidops.com/admin/> .

# definition of category
Admin-Category:MyCategory rdf:type Platform:AdminCategory ;
	rdfs:label "My New Category"  ;
	rdfs:comment "A category for my app specific administration"  ;
	Platform:order 70  .

# link in the category
Admin:MyAdminPage rdf:type Platform:WikiPage ;
	Platform:hasParent Admin-Category:MyCategory ;
	rdfs:label "My Admin Page"  ;
	rdfs:comment "My very special Admin page"  ;
	Platform:order 10  .
</source>

==== Example for adding a link to an existing category ====

The following snippet adds an item to the configuration and setup category (i.e. ''Admin-Category:ConfigurationSetup'')

<source>
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix Platform: <http://www.fluidops.com/ontologies/platform/> .
@prefix Admin-Category: <http://www.fluidops.com/ontologies/category/> .
@prefix Admin: <http://www.fluidops.com/admin/> .

# link in the category
Admin:MyAdminPage rdf:type Platform:WikiPage ;
	Platform:hasParent Admin-Category:ConfigurationSetup ;
	rdfs:label "My Admin Page"  ;
	rdfs:comment "My very special Admin page"  ;
	Platform:order 100  .
</source>